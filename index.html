<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>沈临奈的塔罗小铺 · 首页</title>
  <meta name="description" content="一个极简的塔罗首页：开始占卜。" />
  <link href="https://fonts.googleapis.com/css2?family=ZCOOL+XiaoWei&family=Noto+Serif+SC:wght@500;700&family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 80'%3E%3Cpath fill='%23a855f7' d='M40 0l7 20l20 7l-20 7l-7 20l-7-20l-20-7l20-7z'/%3E%3C/svg%3E">
  <style>
    * { box-sizing: border-box }
    html, body { height: 100% }
    body { margin: 0; font-family: 'Plus Jakarta Sans', system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans SC', sans-serif; background: var(--bg); color: var(--fg); -webkit-font-smoothing: antialiased }

    :root{
      --bg: #0a0b11;          /* 夜空底色 */
      --fg: #e9e9f2;          /* 近白文字 */
      --stroke: rgba(255,255,255,.10);
      --glass: rgba(255,255,255,.04);
      /* 鎏金配色 */
      --gold1: #fff3c8;
      --gold2: #f0d186;
      --gold3: #d3a34a;
      --gold4: #8c6a2e;
    }

    /* 星空背景 */
    #sky { position: fixed; inset: 0; z-index: -1; background:
      radial-gradient(1200px 600px at 10% -10%, rgba(168,85,247,.10), transparent 60%),
      radial-gradient(1200px 800px at 90% 10%, rgba(96,165,250,.10), transparent 65%),
      linear-gradient(#05050a, #0c0c13);
    }

    /* 舞台 */
    .stage { min-height: 100svh; display: grid; place-items: center; padding: 40px 22px }
    .stack { display: grid; gap: 28px; place-items: center; text-align: center }

    /* 小铺名称（极简） */
    .logo { font-family: 'ZCOOL XiaoWei', 'Noto Serif SC', serif; font-weight: 400; font-size: clamp(1.9rem, 5.6vw, 3.2rem); letter-spacing: .02em; margin: 0; line-height: 1.16;
      background: linear-gradient(180deg, #fefefe, #e7e9ff 68%, #c8cffc);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-shadow: 0 2px 12px rgba(168,85,247,.10);
    }
    .hairline { width: 120px; height: 1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,.24), transparent); }

    /* CTA：无边框 + 鎏金文字 + 箭头包围 */
    .cta-wrap { position: relative; display: grid; place-items: center }
    .cta { display: inline-flex; align-items: baseline; justify-content: center; gap: .7rem;
      font-size: clamp(1rem, 2.1vw, 1.2rem); padding: .4rem .6rem;
      border: none; background: transparent; color: rgba(233,233,242,.86);
      text-decoration: none; cursor: pointer; transition: transform .16s ease, opacity .16s ease, filter .16s ease; }
    .cta:focus-visible{ outline: none; box-shadow: 0 0 0 4px rgba(240,209,134,.14); border-radius: 8px }

    /* 左右箭头（ASCII: <-  ->） */
    .cta .chev{ opacity: .55; font-weight: 600; letter-spacing: .06em }
    .cta .chev--left{ margin-right: .1rem }
    .cta .chev--right{ margin-left: .1rem }

    /* 鎏金文字效果，仅作用于标签文案 */
    .cta .label{
      font-family: 'ZCOOL XiaoWei', 'Noto Serif SC', serif; font-weight: 400; letter-spacing: .05em;
      background: linear-gradient(180deg, var(--gold1) 0%, var(--gold2) 45%, var(--gold3) 55%, var(--gold2) 70%, var(--gold4) 100%);
      background-size: 100% 120%;
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-shadow: 0 1px 10px rgba(255, 224, 164, .18);
      filter: saturate(1);
    }

    .cta:hover{ transform: translateY(-1px); }
    .cta:hover .label{ filter: brightness(1.04) saturate(1.06) }
    .cta:hover .chev{ opacity: .8 }

    @media (prefers-reduced-motion: reduce){ .cta { transition: none } }
  </style>
  <!-- Transition overlay minimal styles for homepage outgoing animation -->
  <style>
    .transition-overlay{position:fixed;inset:0;z-index:9999;display:block}
    .transition-bg{position:absolute;inset:0;background:linear-gradient(180deg,#0a0a0f,#0b0b12 30%,#000 100%)}
    .transition-stars{position:absolute;inset:0;opacity:.28;mix-blend-mode:screen}
    .transition-deck-mount{position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}
    .transition-deck{position:relative;width:52vmin;height:52vmin}
    .transition-card{position:absolute;left:50%;top:50%;width:12vmin;height:18vmin;transform:translate(-50%,-50%) scale(.98);opacity:0}
    .transition-card-border{position:absolute;inset:0;padding:2px;border-radius:14px;background:linear-gradient(135deg,rgba(129,140,248,.3),rgba(217,70,239,.25),rgba(16,185,129,.22));-webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude}
    .transition-card-core{position:absolute;inset:3px;border-radius:12px;background:rgba(14,15,19,.88);border:1px solid rgba(255,255,255,.28);overflow:hidden}
    .transition-card-emblem{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:8vmin;height:8vmin;border-radius:999px;border:1px solid rgba(255,255,255,.4);background:rgba(255,255,255,.08);box-shadow:inset 0 2px 12px rgba(0,0,0,.5)}
    .transition-bottom-text{position:absolute;left:0;right:0;bottom:16vmin;text-align:center;color:rgba(255,255,255,.85);letter-spacing:.35em;font-size:20px;text-shadow:0 1px 1px rgba(0,0,0,.4)}
    @media (max-width: 480px){
      .transition-deck{ width:64vmin; height:64vmin }
      .transition-card{ width:14vmin; height:21vmin }
      .transition-bottom-text{ bottom: 12vmin; font-size: 16px; letter-spacing: .28em }
    }
  </style>
</head>
<body>
  <!-- 星空背景 -->
  <canvas id="sky" aria-hidden="true"></canvas>

  <main class="stage" role="main">
    <div class="stack">
      <h1 class="logo">沈临奈的塔罗小铺</h1>
      <div class="hairline" aria-hidden="true"></div>
      <div class="cta-wrap">
        <a class="cta" id="startCTA" href="./reading.html" aria-label="开始占卜">
          <span class="chev chev--left">&lt;-</span>
          <span class="label">开始占卜</span>
          <span class="chev chev--right">-&gt;</span>
        </a>
      </div>
    </div>
  </main>

  <script src="scripts/transition.js"></script>
  <script>
    // 星空背景（简版）
    (function(){
      const canvas = document.getElementById('sky'); const ctx = canvas.getContext('2d');
      let w,h,dpr,stars=[],mouse={x:0,y:0},rafId; const DPR_CAP=2;
      function resize(){ dpr=Math.min(window.devicePixelRatio||1,DPR_CAP); w=canvas.width=Math.floor(innerWidth*dpr); h=canvas.height=Math.floor(innerHeight*dpr); canvas.style.width=innerWidth+'px'; canvas.style.height=innerHeight+'px'; }
      function createStars(){ stars=[]; const count=Math.round(Math.min(420,(innerWidth*innerHeight)/3600)); for(let i=0;i<count;i++){ stars.push({ x:Math.random()*w,y:Math.random()*h,z:Math.random(),r:Math.random()*1.4+.2,tw:Math.random()*Math.PI*2,sp:(Math.random()*0.6+0.2)*(Math.random()<0.5?-1:1) }); } }
      function draw(){ ctx.clearRect(0,0,w,h); const cx=w/2, cy=h/2; for(const s of stars){ const ox=(mouse.x-cx)*(0.003*(1-s.z)); const oy=(mouse.y-cy)*(0.003*(1-s.z)); const x=s.x+ox, y=s.y+oy; s.tw+=0.02+(1-s.z)*0.02; const alpha=0.5+Math.sin(s.tw)*0.5; s.x+=s.sp*(0.05+(1-s.z)*0.1); if(s.x<-10) s.x=w+10; if(s.x>w+10) s.x=-10; ctx.beginPath(); ctx.arc(x,y,s.r*dpr*(1-s.z*0.5),0,Math.PI*2); ctx.fillStyle=`rgba(255,255,255,${0.25+alpha*0.75})`; ctx.fill(); } rafId=requestAnimationFrame(draw); }
      function onPointer(e){ const p=e.touches?e.touches[0]:e; mouse.x=p.clientX*dpr; mouse.y=p.clientY*dpr; }
      addEventListener('resize', ()=>{ resize(); createStars(); });
      addEventListener('mousemove', onPointer, { passive:true });
      resize(); createStars(); draw();
      if(matchMedia && matchMedia('(prefers-reduced-motion: reduce)').matches){ cancelAnimationFrame(rafId); }
    })();

    // 出场过渡 → 跳转 reading
    (function(){
      const cta = document.getElementById('startCTA');
      if(!cta) return;
      cta.addEventListener('click', async function(e){
        e.preventDefault();
        const href = cta.getAttribute('href');
        try{
          if(window.playFanTransition){
            await window.playFanTransition({ text: '- 命运 -', cardCount: 22, pointing: 'inward', radialAlign: true, enableStars: false, holdAtBlack: true });
          }
        } finally {
          window.location.href = href;
        }
      });
    })();
  </script>
</body>
</html>


